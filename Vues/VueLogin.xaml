<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="AP4DantecMarket.Vues.VueLogin"
            BackgroundColor="#2E2E30">

    <Grid RowDefinitions="Auto, *">

        
        <VerticalStackLayout Grid.Row="0"
                             VerticalOptions="Start"
                             HorizontalOptions="Center"
                             Margin="0,20,0,10">
            <Image Source="logo.jpg"
                   HeightRequest="120"
                   WidthRequest="120"
                   Aspect="AspectFit"
                   HorizontalOptions="Center"/>
        </VerticalStackLayout>

      
        <Frame Grid.Row="1"
               BackgroundColor="White"
               CornerRadius="30"
               Padding="30"
               HasShadow="True"
               HorizontalOptions="FillAndExpand"
               VerticalOptions="Center"
               Margin="20,0,20,0">
         

            <VerticalStackLayout Spacing="20">

                <!-- Titre -->
                <Label Text="Connexion"
                       FontSize="28"
                       FontAttributes="Bold"
                       HorizontalOptions="Center"
                       TextColor="#333"/>

                <!-- Champ Email -->
                <Entry x:Name="emailEntry"
                       Placeholder="Adresse e-mail"
                       Keyboard="Email"
                       ReturnType="Next"
                       TextColor="Black"
                       BackgroundColor="#F3F3F3"
                       HeightRequest="50"
                       FontSize="16"
                       />

                <!-- Champ Mot de passe avec bouton d'affichage -->
                <Grid>
                    <Entry x:Name="passwordEntry"
                           Placeholder="Mot de passe"
                           IsPassword="True"
                           ReturnType="Go"
                           Completed="OnLoginClicked"
                           TextColor="Black"
                           BackgroundColor="#F3F3F3"
                           HeightRequest="50"
                           FontSize="16"
                          
                           HorizontalOptions="FillAndExpand"/>

                    <ImageButton x:Name="togglePasswordButton"
                                 Source="hidden.png"
                                 BackgroundColor="Transparent"
                                 HeightRequest="30"
                                 WidthRequest="30"
                                 HorizontalOptions="End"
                                 VerticalOptions="Center"
                                 Margin="0,0,10,0"
                                 Clicked="OnTogglePasswordVisibility"/>
                </Grid>

                <!-- Checkbox "Se souvenir de moi" -->
                <HorizontalStackLayout VerticalOptions="Center">
                    <CheckBox x:Name="rememberMeCheckBox"/>
                    <Label Text="Se souvenir de moi"
                           VerticalOptions="Center"
                           TextColor="#333"
                           FontSize="14"/>
                </HorizontalStackLayout>

                <!-- Indicateur de chargement -->
                <ActivityIndicator x:Name="loadingIndicator"
                                   IsRunning="False"
                                   IsVisible="False"
                                   Color="Goldenrod"
                                   Margin="0,10"/>

                <!-- Message d'erreur -->
                <Label x:Name="messageLabel"
                       TextColor="Red"
                       IsVisible="False"
                       FontSize="14"
                       FontAttributes="Bold"
                       HorizontalOptions="Center"/>

                <!-- Bouton Connexion -->
                <Button Text="Se connecter"
                        Clicked="OnLoginClicked"
                        BackgroundColor="Goldenrod"
                        TextColor="White"
                        FontAttributes="Bold"
                        CornerRadius="10"
                        HeightRequest="55"
                        HorizontalOptions="Fill"
                        Margin="0,10"/>

            </VerticalStackLayout>

        </Frame>

    </Grid>

</ContentPage>
